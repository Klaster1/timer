<pre>Duration: {{ Games.data|filter:{state:Games.showState}|sumGamesDuration|duration }}
Games: {{ (Games.data|filter:{state:Games.showState}).length }}
{{$state}}
Pages: {{Games.data|pages:Games.pagination.amount:Games.pagination.offset}}
</pre>

<div>
	<div class="btn-group">
		<a
			ui-sref="games"
			class="btn btn-default"
			ng-class="{active: !$state.params.state}"
		>All</a>
		<a
			ui-sref="games.state({state:state})"
			class="btn btn-default"
			ng-class="{active: $state.params.state == state}"
			ng-repeat="state in Game.states"
		>{{state|inflector:"humanize"}}</a>
	</div>
</div>

<nav class="pagination">
	<li
		ng-repeat="page in (Games.data|pages:Games.pagination.amount:Games.pagination.offset|limitTo:3)"
		ng-class="{active: Games.pagination.offset == page}"
	>
		<a ng-click="Games.pagination.offset = page">
			{{(page / Games.pagination.amount) + 1}}
		</a>
	</li>
	<li ng-repeat="page in ((Games.data|pages:Games.pagination.amount:Games.pagination.offset).reverse()|limitTo:3)">
		<a
			ng-click="Games.pagination.offset = page"
		>
			{{(page / Games.pagination.amount) + 1}}
		</a>
	</li>
</nav>

<nav class="list-group">
	<a
		ui-sref="game({gameID:game.id})"
		class="list-group-item"
		ng-repeat="game in (Games.data|orderBy:'-(sessions|last).start'|filter:($state.params.state?{state: $state.params.state}:undefined)|paginate:Games.pagination.offset:Games.pagination.amount)"
	>
		<i
			class="glyphicon"
			ng-class="{
				'glyphicon-pause text-warning': game.state == 'active' && (game|isPlaying),
				'glyphicon-play': game.state == 'active' && !(game|isPlaying),
				'glyphicon-ok text-success': game.state == 'finished',
				'glyphicon-remove text-danger': game.state == 'dropped',
				'glyphicon-star text-warning': game.state == 'wish',
				'glyphicon-lock text-muted': game.state == 'hold'
			}"
		></i>
		{{game.title}}
		<span class="pull-right">{{game.sessions|sumSessionsDuration|duration}}</span>
	</a>
</nav>